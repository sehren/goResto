{"version":3,"file":"super-tab.js","sourceRoot":"","sources":["../../src/components/super-tab.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EACL,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE,UAAU,EAAE,iBAAiB,EAAE,QAAQ,EAAE,wBAAwB,EAC7F,MAAM,EAAE,gBAAgB,EAAE,SAAS,EAAoC,iBAAiB,EAAE,YAAY,EACvG,MAAM,eAAe,CAAC;AACvB,OAAO,EACL,iBAAiB,EAAE,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAE,iBAAiB,EAAE,UAAU,EAAE,aAAa,EAEvF,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,oBAAoB,EAAE,MAAM,iDAAiD,CAAC;AACvF,OAAO,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;;IAOX,4BAAiB;IAuF7C,kBACE,MAAiB,EACjB,GAAQ,EACR,MAAc,EACd,GAAa,EACb,EAAc,EACd,IAAY,EACZ,GAAa,EACb,GAA6B,EAC7B,WAA8B,EAC9B,SAA+B,EAC/B,YAA0B,EACN,QACZ,IAAmB,EACnB,EAAqB;QAd/B,YAgBE,kBAAM,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,YAAY,CAAC,SAExG;QANqB,YAAM,GAAN,MAAM;QAClB,UAAI,GAAJ,IAAI,CAAe;QACnB,QAAE,GAAF,EAAE,CAAmB;;;;;uBA1BL,KAAK;QA6B7B,KAAI,CAAC,IAAI,GAAG,IAAI,OAAO,CAAO,UAAA,OAAO,IAAI,OAAA,KAAI,CAAC,WAAW,GAAG,OAAO,EAA1B,CAA0B,CAAC,CAAC;;KACtE;IA/FD,sBAAI,8BAAQ;QAFZ,gCAAgC;QAChC,0FAA0F;;;;QAC1F;YACE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;SACnB;;;OAAA;IAGD,sBAAI,2BAAK;QADT,0FAA0F;;;QAC1F;YACE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAChD;;;OAAA;IAqBD,sBAAI,4BAAM;aAAV;YACE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;SACnB;;;OAAA;0BAeG,sCAAgB;;;;;;YAClB,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;;aAEzB,UAAqB,GAAY;YAC/B,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;YAC/B,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;;;;0BAMG,yBAAG;;;;kBAAC,GAAqB;YAC3B,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;;;;;IAuCxB,4BAAS,GAAT,UAAU,IAAoB;QAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAChB,iBAAM,SAAS,YAAC,IAAI,CAAC,CAAC;SACvB;KACF;IAED,6BAAU,GAAV,UAAW,IAAoB;QAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAChB,iBAAM,UAAU,YAAC,IAAI,CAAC,CAAC;SACxB;KACF;IAED,2BAAQ,GAAR;QACE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KAC1B;IAED,kCAAe,GAAf;QACE,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;IAED,8BAAW,GAAX;QACE,IAAI,CAAC,OAAO,EAAE,CAAC;KAChB;IAED,4BAAS,GAAT,UAAU,MAAe;QACvB,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACX,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC;YACnB,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;SACzB;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC;SAClB;KACF;IAEK,uBAAI,GAAV,UAAW,IAAa;;;;;6BAClB,CAAA,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAA,EAApB,wBAAoB;wBACtB,qBAAM,IAAI,CAAC,IAAI,EAAA;;wBAAf,SAAe,CAAC;wBAChB,qBAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,EAAA;;wBAA/D,SAA+D,CAAC;wBAChE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;;;;;KAEtB;IAED,2BAAQ,GAAR,UAAS,KAAa;QACpB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACpB;IAED,6BAAU,GAAV;QACE,OAAO,IAAI,CAAC,KAAK,CAAC;KACnB;IAED,gCAAa,GAAb,UAAc,UAAsB;QAAtB,2BAAA,EAAA,cAAsB;QAClC,IAAI,CAAC,KAAK,IAAI,UAAU,CAAC;KAC1B;IAED,gCAAa,GAAb,UAAc,UAAsB;QAAtB,2BAAA,EAAA,cAAsB;QAClC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC,CAAC;KACnD;IAED,2BAAQ,GAAR,UAAS,KAAa;QACpB,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,KAAK,GAAG,IAAI,CAAC,CAAC;KAC7C;IAED,2BAAQ,GAAR,UAAS,IAAgB;QACvB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;KAC7D;;gBA/KF,SAAS,SAAC;oBACT,QAAQ,EAAE,WAAW;oBACrB,QAAQ,EAAE,oDAAoD;oBAC9D,aAAa,EAAE,iBAAiB,CAAC,IAAI;iBACtC;;;;gBANQ,SAAS;gBAJG,GAAG;gBAAE,MAAM;gBAAE,QAAQ;gBAJZ,UAAU;gBACtC,MAAM;gBADY,QAAQ;gBAA2C,wBAAwB;gBAInD,iBAAiB;gBAGpD,oBAAoB;gBAN+D,YAAY;gBAGzC,UAAU,uBA8GpE,QAAQ;gBA9G8D,aAAa;gBAHf,iBAAiB;;;0BAmBvF,KAAK;yBAiBL,KAAK;yBAML,KAAK;+BAKL,KAAK;0BAEL,KAAK,SAAC,IAAI;0BAWV,KAAK;qCAQL,KAAK;wBAYL,SAAS,SAAC,UAAU,EAAE,EAAC,IAAI,EAAE,gBAAgB,EAAC;;mBAlFjD;EAgB8B,iBAAiB;SAAlC,QAAQ","sourcesContent":["import {\n  Component, Input, Renderer, ElementRef, ViewEncapsulation, Optional, ComponentFactoryResolver,\n  NgZone, ViewContainerRef, ViewChild, OnInit, AfterViewInit, OnDestroy, ChangeDetectorRef, ErrorHandler\n} from '@angular/core';\nimport {\n  NavControllerBase, App, Config, Platform, GestureController, DeepLinker, DomController, NavOptions,\n  ViewController\n} from 'ionic-angular';\nimport { TransitionController } from 'ionic-angular/transitions/transition-controller';\nimport { SuperTabs } from './super-tabs';\n\n@Component({\n  selector: 'super-tab',\n  template: '<div #viewport></div><div class=\"nav-decor\"></div>',\n  encapsulation: ViewEncapsulation.None\n})\nexport class SuperTab extends NavControllerBase implements OnInit, AfterViewInit, OnDestroy {\n\n  /**\n   * Title of the tab\n   */\n  @Input()\n  title: string;\n\n  // TODO find less hacky approach\n  // needed to make Ionic Framework think this is a tabs component... needed for Deeplinking\n  get tabTitle() {\n    return this.title;\n  }\n\n  // needed to make Ionic Framework think this is a tabs component... needed for Deeplinking\n  get index() {\n    return this.parent.getTabIndexById(this.tabId);\n  }\n\n  /**\n   * Name of the ionicon to use\n   */\n  @Input()\n  icon: string;\n\n  /**\n   * @input {Page} Set the root page for this tab.\n   */\n  @Input() root: any;\n\n  /**\n   * @input {object} Any nav-params to pass to the root page of this tab.\n   */\n  @Input() rootParams: any;\n\n  @Input('id')\n  tabId: string;\n\n  get _tabId() {\n    return this.tabId;\n  }\n\n  /**\n   * Badge value\n   * @type {Number}\n   */\n  @Input()\n  badge: number;\n\n\n  /**\n   * Enable/disable swipe to go back for iOS\n   * @return {boolean}\n   */\n  @Input()\n  get swipeBackEnabled(): boolean {\n    return this._sbEnabled;\n  }\n  set swipeBackEnabled(val: boolean) {\n    this._sbEnabled = Boolean(val);\n    this._swipeBackCheck();\n  }\n\n  /**\n   * @hidden\n   */\n  @ViewChild('viewport', {read: ViewContainerRef})\n  set _vp(val: ViewContainerRef) {\n    this.setViewport(val);\n  }\n\n  /**\n   * Indicates whether the tab has been loaded\n   * @type {boolean}\n   */\n  private loaded: boolean = false;\n\n  /**\n   * A promise that resolves when the component has initialized\n   */\n  private init: Promise<any>;\n\n  /**\n   * Function to call to resolve the init promise\n   */\n  private initResolve: Function;\n\n  constructor(\n    parent: SuperTabs,\n    app: App,\n    config: Config,\n    plt: Platform,\n    el: ElementRef,\n    zone: NgZone,\n    rnd: Renderer,\n    cfr: ComponentFactoryResolver,\n    gestureCtrl: GestureController,\n    transCtrl: TransitionController,\n    errorHandler: ErrorHandler,\n    @Optional() private linker: DeepLinker,\n    private _dom: DomController,\n    private cd: ChangeDetectorRef\n  ) {\n    super(parent, app, config, plt, el, zone, rnd, cfr, gestureCtrl, transCtrl, linker, _dom, errorHandler);\n    this.init = new Promise<void>(resolve => this.initResolve = resolve);\n  }\n\n  _didEnter(view: ViewController) {\n    if (this.loaded) {\n      super._didEnter(view);\n    }\n  }\n\n  _willEnter(view: ViewController) {\n    if (this.loaded) {\n      super._willEnter(view);\n    }\n  }\n\n  ngOnInit() {\n    this.parent.addTab(this);\n  }\n\n  ngAfterViewInit() {\n    this.initResolve();\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n\n  setActive(active: boolean) {\n    if (active) {\n      this.cd.reattach();\n      this.cd.detectChanges();\n    } else if (!active) {\n      this.cd.detach();\n    }\n  }\n\n  async load(load: boolean) {\n    if (load && !this.loaded) {\n      await this.init;\n      await this.push(this.root, this.rootParams, { animate: false });\n      this.loaded = true;\n    }\n  }\n\n  setBadge(value: number) {\n    this.badge = value;\n  }\n\n  clearBadge() {\n    delete this.badge;\n  }\n\n  increaseBadge(increaseBy: number = 1) {\n    this.badge += increaseBy;\n  }\n\n  decreaseBadge(decreaseBy: number = 1) {\n    this.badge = Math.max(0, this.badge - decreaseBy);\n  }\n\n  setWidth(width: number) {\n    this.setElementStyle('width', width + 'px');\n  }\n\n  goToRoot(opts: NavOptions): Promise<any> {\n    return this.setRoot(this.root, this.rootParams, opts, null);\n  }\n\n}\n"]}